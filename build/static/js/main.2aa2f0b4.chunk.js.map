{"version":3,"sources":["pages/home/store/reducer.js","environment.js","pages/home/store/actionCreators.js","pages/home/store/actionTypes.js","pages/detail/store/reducer.js","utils/constants.js","utils/utils.js","pages/detail/store/actionCreators.js","pages/detail/store/actionTypes.js","store/reducer.js","store/index.js","common/highlighter/style.js","common/highlighter/index.js","pages/home/components/table/style.js","pages/home/components/table/index.js","pages/home/style.js","pages/home/index.js","pages/detail/style.js","pages/detail/index.js","App.js","style.js","index.js"],"names":["defaultState","fromJS","list","BASE_URL","getList","orderId","dispatch","a","axios","get","catch","err","console","log","response","products","data","action","type","errors","COLUMN_SCHEMA","ERROR_MESSAGE_SCHEMA","CATEGORY_ERROR","REVENUE_ERROR","SUB_CATEGORY_ERROR","PRODCUT_ID_ERROR","convertCodeToMessage","error","code","message","initListAction","getErrorsAction","collectErrors","reduce","res","orderObjs","Object","values","map","orderObj","orders","order","line_items","item","isNaN","formatResponseErrorData","length","NaN","getErrors","rawObj","selectedKeys","keys","filter","key","includes","obj","reducer","combineReducers","home","state","merge","detail","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","HighlighterWrapper","styled","mark","props","backgroundColor","color","fontWeight","Highliter","children","TableWrapper","div","renderTd","index","nowrap","Table","colNames","headData","tableData","colName","items","renderTbody","HomeWrapper","Home","filters","timerState","handleOk","setState","loading","setTimeout","visible","handleCancel","handleOnChange","e","handleGetList","persist","debouncedFn","_","debounce","target","value","trim","showText","clearTimeout","this","selectedData","toJS","disabled","title","onOk","onCancel","footer","to","Math","random","onClick","placeholder","style","width","marginLeft","marginRight","onChange","marginTop","PureComponent","withRouter","connect","getIn","actionCreators","DetailWrapper","Detail","navigator","clipboard","writeText","location","href","copied","id","dataList","errorList","idx","language","docco","JSON","stringify","undefined","size","bordered","dataSource","renderItem","Item","name","row","ownProps","match","params","order_id","App","path","exact","component","injectGlobal","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2aa2f0b4.chunk.js","sourcesContent":["import * as constants from './actionTypes';\nimport { fromJS } from 'immutable';\n\nconst defaultState = fromJS({\n  list:[]\n});\n\nexport default (state = defaultState, action) => {\n    switch (action.type) {\n        case constants.INIT_LIST_ACTION :\n           return state.merge({\n              'list' : action.data,\n           })\n        default: \n           return state;\n    }\n}","let BASE_URL = 'http://localhost:3000';\n\nif (process.env.REACT_APP_ENV === 'development') {\n    BASE_URL = 'http://localhost:3000';\n}\n\nif (process.env.REACT_APP_ENV === 'production') {\n    BASE_URL = 'https://sales-management-zm.herokuapp.com';\n}\n\nexport { BASE_URL }","import * as constants from './actionTypes';\nimport { fromJS } from 'immutable';\nimport axios from 'axios';\nimport { BASE_URL } from '../../../environment';\n\n\nconst initListAction = data => ({\n    type: constants.INIT_LIST_ACTION,\n    data: fromJS(data),\n})\n\nexport const getList = orderId => {\n    return async (dispatch) => {\n        const response = await axios.get(`${BASE_URL}/${orderId}`)\n              .catch(err => console.log(err));\n        const { products } = response.data;\n        const action = initListAction(products);\n        dispatch(action);\n    }\n}\n","export const INIT_LIST_ACTION = 'home/INIT_LIST_ACTION';","import * as constants from './actionTypes';\nimport { fromJS } from 'immutable';\n\nconst defaultState = fromJS({\n  list:[],\n  errors:[]\n});\n\nexport default (state = defaultState, action) => {\n    switch (action.type) {\n        case constants.INIT_LIST_ACTION :\n           return state.merge({\n              'list' : action.data,\n           })\n        case constants.GET_EROORS_ACTION :\n           return state.merge({\n              'errors' : action.data\n           })\n        default: \n           return state;\n    }\n}","export const COLUMN_SCHEMA = {\n    NAMES: ['name', 'message', 'row']\n}\n\nexport const ERROR_MESSAGE_SCHEMA = {\n    CATEGORY_ERROR : 'Category cannot be parsed correctly in product url',\n    REVENUE_ERROR: 'Revenue cannot be parsed correctly in product url',\n    SUB_CATEGORY_ERROR: 'Sub-Category cannot be parsed correctly in product url',\n    PRODCUT_ID_ERROR: 'Product ID cannot be parsed correctly in product url'\n}\nexport const PARSING_DATA_ERROR = 'Something wrong with parsing tsv data, might because of an empty customer name field, pelase check accordingly!'\n\n\n","import { ERROR_MESSAGE_SCHEMA } from './constants';\n\n/**\n * give an array of selected keys, return an filtered object by thoes keys\n * @function filterObjByKey\n * @param { Object } rawObj\n * @param { Array } selectedKeys \n * @returns an filtered object \n */\n\nexport const filterObjByKey = (rawObj, selectedKeys) => {\n    return Object.keys(rawObj)\n        .filter(key => selectedKeys.includes(key))\n        .reduce((obj, key) => {\n          obj[key] = rawObj[key];\n          return obj;\n        }, {});\n}\n\n/**\n * convert error code to error message\n * @function convertCodeToMessage\n * @param { String } error code \n * @returns { String } error message\n */\nexport const convertCodeToMessage = error => {\n    if (!error || !error.code) return;\n    error.message = ERROR_MESSAGE_SCHEMA[error.code];\n    return error;\n}","import * as constants from './actionTypes';\nimport { fromJS } from 'immutable';\nimport { filterObjByKey, convertCodeToMessage } from '../../../utils/utils';\nimport { COLUMN_SCHEMA } from '../../../utils/constants';\nimport { BASE_URL } from '../../../environment';\nimport axios from 'axios';\n\nconst initListAction = data => ({\n    type: constants.INIT_LIST_ACTION,\n    data: fromJS(data),\n})\n\nconst getErrorsAction = data => ({\n    type: constants.GET_EROORS_ACTION,\n    data: fromJS(data)\n})\n\n/**\n * Collect all the errors from response data, formated as \n * [{name: 'Error', status: 500, row: 10, code: RES_ERROR}, ...]\n * @function collectErrors\n * @param { Object } data response data \n * @return { Array } an array of errors e.g. [{name: 'Error', status: 500, row: 10, code: RES_ERROR}, ...]\n * \n */\nconst collectErrors = data => {\n    return data.reduce((res, orderObjs) => {\n        Object.values(orderObjs).map(orderObj => {\n            orderObj.orders.map(order => order.line_items.map(item => {\n                if (typeof item['product_url'] === 'object') {\n                    res = [...res, item['product_url']];\n                }\n                if (isNaN(item['revenue'])) {\n                    res = [...res, item['revenue']];\n                }\n                return res;\n             }))\n        })\n        return res;\n    }, [])\n}\n\n/**\n * formated response data, if any errors, replace it's feild as empty string or null\n * @function formatResponseErrorData\n * @param { Object } data response data \n * @return { Array } \n */\nconst formatResponseErrorData = data => {\n    if (!data || !data.length) return [];\n    return data.reduce((res, orderObjs) => {\n        Object.values(orderObjs).map(orderObj => {\n            orderObj.orders.map(order => order.line_items.map(item => {\n                if (typeof item['product_url'] === 'object') item['product_url'] = '';\n                if (!item['revenue'] || isNaN(item['revenue'])) item['revenue'] = NaN;\n             }))\n        })\n      return [...res, ...data];\n    }, []);\n}\n\nexport const getErrors = orderId => {\n    return async (dispatch) => {\n        const response = await axios.get(`${BASE_URL}/api/order/${orderId}`)\n              .catch(err => console.log(err));\n        const data = response.data;\n        const errors = collectErrors(data)\n              .map(error => convertCodeToMessage(error))\n              .map(error => filterObjByKey(error, COLUMN_SCHEMA.NAMES))\n        const action = getErrorsAction(errors);\n        dispatch(action);\n    }\n}\n\nexport const getList = orderId => {\n    return async (dispatch) => {\n        const response = await axios.get(`${BASE_URL}/api/order/${orderId}`)\n              .catch(err => console.log(err));\n        const data = formatResponseErrorData(response.data);\n        const action = initListAction(data);\n        dispatch(action);\n    }\n}\n","export const INIT_LIST_ACTION = 'detail/INIT_LIST_ACTION';\nexport const GET_EROORS_ACTION = 'detail/GET_EROORS_ACTION';\n","import { combineReducers } from 'redux-immutable';\nimport { reducer as homeReducer } from '../pages/home/store';\nimport { reducer as detailReducer } from '../pages/detail/store';\n\nconst reducer = combineReducers({\n     home: homeReducer,\n     detail: detailReducer\n});\n\nexport default reducer;\n","import { createStore, compose, applyMiddleware } from 'redux';\nimport  thunk from 'redux-thunk';\nimport reducer from './reducer';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(reducer, composeEnhancers(\n    applyMiddleware(thunk)\n));\n\nexport default store;","import styled from 'styled-components';\n\nexport const HighlighterWrapper = styled.mark`\n    background-color: ${props => props.backgroundColor ? props.backgroundColor : '#FFFF00'};\n    color: ${props => props.color ? props.color: 'black'};\n    font-weight: ${props => props.fontWeight ? props.fontWeight : 'bold'};\n`;","import React from 'react';\nimport { HighlighterWrapper } from './style';\n\n\nconst Highliter = ({backgroundColor, color, fontWeight, children})=> {\n    return (\n        <HighlighterWrapper \n        backgroundColor={backgroundColor}\n        fontWeight={fontWeight}\n        color={color}\n        > \n        {children} \n        </HighlighterWrapper>\n    )\n}\n\nexport default Highliter;","import styled from 'styled-components';\n\nexport const TableWrapper = styled.div`\n  display : flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100%\ntable {\n  border-collapse: collapse;\n  table-layout: auto;\n  width: 100%;\n\n}\n\nth {\n  text-transform: uppercase;\n  {background-color: white}\n}\n\nth, td {\n  text-align: left;\n  padding: 8px;\n}\n\ntd {\n  text-transform: capitalize;\n}\n\ntr:nth-child(odd) {background-color: #e6f7ff;}\n\n`;","import React from 'react';\nimport {TableWrapper} from './style';\n\n\nconst renderThead = colNames => {\n    return (\n        <thead>\n        <tr>\n         { colNames && colNames.map(colName => <th nowrap=\"true\" key={colName}>{colName}</th>) }\n        </tr>\n        </thead>\n    )\n}\n\nconst renderTbody = data => {\n    return (\n         <tbody>\n            {data.map((items,index) => <tr key={index + items[0]}>{items.map((item,index) => renderTd(item, index))}</tr>)}\n        </tbody> \n    )\n}\n\nconst renderTd = (item, index) => {\n    return <td nowrap=\"true\" key={index + item}>{item}</td>;\n}\n\nconst Table = ({ data }) => {\n    const headData = data[0] && Object.keys(data[0]);\n    const tableData = data.map(item => Object.values(item));\n    return (\n        <TableWrapper>\n        <table>\n            {renderThead(headData)}\n            {renderTbody(tableData)}\n        </table>\n        </TableWrapper>\n    )\n}\n\nexport default Table;","import styled from 'styled-components';\n\nexport const HomeWrapper = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 10px;\n`;\n","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, withRouter} from 'react-router-dom';\nimport _ from 'lodash';\nimport  { actionCreators } from './store';\nimport { Modal, Button, Input } from 'antd';\nimport Highliter from '../../common/highlighter';\nimport Table from './components/table';\nimport { HomeWrapper  } from './style';\nimport 'antd/dist/antd.css';\n\n\nclass Home extends PureComponent {\n    filters = {};\n    timerState = null;\n    constructor(props){\n        super(props)\n        this.state = {\n            filters : {},\n            loading: false,\n            visible: true,\n            showText: false,\n            orderId: ''\n        } \n    }\n\n    componentWillUnmount() {\n        clearTimeout(this.timerState);\n    }\n    \n    handleOk = () => {\n        this.setState({ loading: true });\n        this.timerState = setTimeout(() => {\n            this.setState({ loading: false, visible: false });\n        }, 3000);\n    };\n\n    handleCancel = () => {\n        this.setState({ visible: false });\n    };\n\n    handleOnChange = e => {\n        const { handleGetList, list} = this.props;\n        e.persist();\n        if (!this.debouncedFn) {\n            this.debouncedFn =  _.debounce(() => {\n                const orderId = e.target.value;\n                this.setState({orderId})\n                handleGetList(list, orderId);\n                orderId.trim() ? this.setState({showText : true}) : this.setState({showText : false})\n             }, 300);\n        }\n        this.debouncedFn();\n    }\n\n    render() {\n        const { list  } = this.props;\n        const { visible, loading, orderId, showText } =  this.state;\n        const selectedData = list.toJS();\n        const disabled = !(selectedData && selectedData.length);\n        return (\n        <HomeWrapper>\n            <Modal\n                visible={visible}\n                title=\"tsv content\"\n                onOk={this.handleOk}\n                onCancel={this.handleCancel}\n                footer={[\n                    <Link to={`/${orderId}`} key={Math.random()}>\n                        <Button key=\"submit\" type=\"primary\" loading={loading} onClick={this.handleOk} disabled={disabled}>\n                            Submit\n                        </Button>\n                    </Link>,\n                ]}\n            >\n            {selectedData && selectedData.length ? <Table data={selectedData}/>\n            : <div>\n              <Input \n                placeholder=\"please type an order id, eg. CA-2016-152156\" \n                style={{width: '40%', marginLeft:'30%', marginRight:'30%'}} \n                onChange={this.handleOnChange}\n               />\n               {showText && <div style={{marginTop: '10px',marginLeft:'45%', marginRight:'40%'}} ><Highliter fontWeight=\"normal\">{'Invalid order Id'}</Highliter></div>}\n            </div>\n            }\n        </Modal>\n        </HomeWrapper>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        list: state.getIn(['home', 'list']),\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        handleGetList(list, orderId) {\n            if (!orderId) return;\n            dispatch(actionCreators.getList(orderId));\n        }\n    }\n};\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Home));","import styled from 'styled-components';\n\nexport const DetailWrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    margin: 5% 30%;\n    li {\n        margin-top: 20px;\n        font-size: 20px;\n        text-transform: capitalize;\n    }\n    button {\n        margin: 0 30%;\n    }\n`;\n\n\n\n\n","import React, { PureComponent } from 'react';\nimport { withRouter} from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport  { actionCreators } from './store';\nimport { Modal, Button, Card, Input, List } from 'antd';\nimport Highliter from '../../common/highlighter';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport { PARSING_DATA_ERROR } from '../../utils/constants'\nimport { docco } from 'react-syntax-highlighter/dist/esm/styles/hljs';\nimport 'antd/dist/antd.css';\nimport { DetailWrapper } from './style';\n\n\n\nclass Detail extends PureComponent {\n  timerState = null;\n  constructor(props){\n      super(props)\n      this.state = {\n          loading: false,\n          visible: true,\n          copied: false,    \n      }\n  }\n\n  componentDidMount() {\n    const { handleGetList, list, id } = this.props;\n    handleGetList(list, id);\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timerState);\n  }\n\n\n  handleOk = () => {\n      navigator.clipboard.writeText(window.location.href);\n      this.setState({copied : true})\n  };\n\n  handleCancel = () => {\n      this.setState({ visible: false });\n  };\n\n  render () {\n      const { list,  errors } = this.props;\n      const { visible, loading, copied } = this.state;\n      const dataList = list.toJS();\n      const errorList = errors.toJS();\n    return (\n      <DetailWrapper>\n        <Modal\n            visible={visible}\n            title=\"results\"\n            onOk={this.handleOk}\n            onCancel={this.handleCancel}\n            footer={[\n              <Input\n              key={Math.random()}\n              placeholder=\"Order Url\"\n              style={{width : '50%', marginRight: '3%'}}\n              value ={window.location.href}\n              disabled\n              /> ,\n              <Button key=\"submit\" type=\"primary\" loading={loading} onClick={this.handleOk}>\n                {copied ? <span>Copied!</span> : <span>Copy Link</span>}\n              </Button>,\n            ]} \n            > \n              <Card style={{ width: '100%' }}>\n                 {\n                   dataList.map((list, idx) => {\n                     return (\n                      <SyntaxHighlighter language=\"javascript\" key={Math.random() + idx} style={docco}>\n                          {JSON.stringify(list, undefined, 4)}\n                      </SyntaxHighlighter>\n                     )\n                   })\n                 }\n              </Card>\n              <Card \n                  style={{ width: '100%', marginTop : 20 }}\n                  title=\"errors\"\n              >\n              {errorList.length ? <List\n                  size=\"small\"\n                  bordered\n                  dataSource={errorList}\n                  renderItem={\n                    item => {\n                      return(\n                        <List.Item key={Math.random()}>\n                          {item.name}: {item.message} at row <Highliter>{item.row}</Highliter> in tsv file,\n                           please check accordingly.\n                        </List.Item>\n                      )\n                    }\n                  }\n                /> :\n                !dataList.length && <p><Highliter fontWeight={'nomal'}>{ PARSING_DATA_ERROR }</Highliter></p>\n              }\n              </Card>\n        </Modal>\n      </DetailWrapper>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const orderId = ownProps.match.params.order_id;\n  return {\n      id: orderId,\n      list: state.getIn(['detail', 'list']),\n      errors: state.getIn(['detail', 'errors']) \n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n      handleGetList(list, orderId) {\n          if (!orderId) return;\n          dispatch(actionCreators.getList(orderId));\n          dispatch(actionCreators.getErrors(orderId));\n      },\n  }\n};\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Detail));","import React from 'react';\nimport store from './store';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Home from './pages/home';\nimport Detail from './pages/detail';\n\n\nfunction App() {\n  return (\n    <Provider store={store}>\n       <div>\n        <BrowserRouter>\n          <Switch>\n            <Route path='/' exact component={Home}></Route>\n            <Route path='/:order_id'  component={Detail}></Route>\n          </Switch>\n        </BrowserRouter>\n       </div>\n    </Provider>\n  );\n}\n\nexport default App;\n","import { injectGlobal } from 'styled-components'\n// using styled-component v3\ninjectGlobal `\n@import url('https://fonts.googleapis.com/css?family=Roboto:300,500');\n , abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n\tmargin: 5% 15%;\n\tfont-family: Roboto, sans-serif;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n.ant-modal {\n\twidth: 60% !important;\n}\n`;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './style.js';\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}